# 문서 목적

이 폴더(docs/rnd)는 TIPS 연구개발계획서의 “기술개발(II-2. 기술개발 내용 및 목표)”을 기반으로, 구현 방식과 무관하게 반드시 충족해야 하는 요구사항(특히 성능지표/평가방법/평가환경)을 정리한 문서 모음이다. 기술개발은 계획서 목차상 II장에 포함되며, II-2가 기술개발 내용 및 목표로 명시되어 있다.

# 빠른 진입 문서

- 새 세션 인수인계: `docs/rnd/SESSION_HANDOFF.md`
- R&D 문서/코드 위치 인덱스: `docs/rnd/RND_DOCS_INDEX.md`
- 통합 학습 실행 가이드: `docs/rnd/ai_training_pipeline.md`

# 문서 계층

- docs/rnd/\*
  - 요구사항(객관 스펙)
  - 구현 방식(아키텍처/라이브러리/스키마 등)은 강제하지 않으며, 성능지표/평가방법/평가환경을 충족하는지가 최우선이다.
- docs/rnd_impl/\*
  - 선택 참고자료(구현 힌트/패턴/가정 가능한 데이터 스키마 예시 등)
  - docs/rnd와 충돌하는 내용은 무시한다.

# 우선순위(충돌 해결)

1. AGENTS.md의 Non-Negotiable Guardrails (보안/권한/주문 무결성 등 기존 플랫폼 불변조건)
2. docs/rnd/\* (TIPS 기반 요구사항/평가)
3. docs/rnd_impl/\* (선택 가이드)

# Codex 작업 단위 원칙(토큰 최소화)

Codex는 “한 번에 한 작업(한 모듈)”만 수행한다. 따라서 문서도 모듈 단위로만 로드한다.
각 작업에서 반드시 읽을 것:

- AGENTS.md
- docs/rnd/01_kpi_and_evaluation.md
- 지금 작업할 모듈 스펙 1개: docs/rnd/02~07 중 해당 파일 1개

필요할 때만 읽을 것:

- 지금 모듈의 구현 가이드 1개: docs/rnd_impl/해당\_impl_notes.md

절대 한 번에 모두 로드하지 말 것:

- 02~07 모듈 문서를 한꺼번에 읽지 않는다.
- rnd_impl 전체를 한꺼번에 읽지 않는다.

# 모듈-파일 매핑

- 02_data_lake.md: 데이터레이크 구축 관련 요구사항
- 03_personal_safety_validation_engine.md: 개인 안전성 검증 엔진 요구사항
- 04_efficacy_quantification_model.md: 효과(효능) 정량화/수치화 모델 요구사항
- 05_optimization_engine.md: 최적화(조합/선택) 엔진 요구사항
- 06_closed_loop_ai.md: Closed-loop AI(지속 개선/피드백 루프) 요구사항
- 07_biosensor_and_genetic_data_integration.md: 바이오센서/유전 데이터 연동 요구사항

# 요구사항(객관 스펙) 작성 규칙

각 모듈 문서(docs/rnd/02~07)는 반드시 아래 섹션을 포함한다.

- 목표(계획서 기술개발 목표에서 가져온 내용)
- 입력/출력(외부 데이터 구조가 불확실하면 “가정 가능한 최소 스키마”와 “변경 가능성”을 명시)
- 기능 요구사항(무엇을 해야 하는지)
- 비기능 요구사항(보안/프라이버시/성능/확장성 등)
- 성능지표(KPI)
- 평가방법(측정 절차, 데이터 분할/실험 설계, 계산식/판정 기준 포함)
- 평가환경(데이터 조건, 시스템/실행 환경, 재현 조건)

# 외부 데이터 구조 불확실성 대응 원칙

외부 데이터(논문/건강데이터/영양제 카탈로그/바이오센서/유전 데이터 등)의 구조가 확정되지 않았더라도, 초기 개발은 진행해야 한다.
따라서 모듈 문서에는 아래를 명시한다.

- 최소 스키마(Minimum Viable Schema): 구현/평가가 가능한 최소 필드 집합
- 적응 지점(Adaptation Points): 실제 데이터 구조가 확정되면 교체/확장될 수 있는 접점(어댑터/매퍼/스키마 레지스트리 등 “개념” 수준)
- 계약(Contract) 우선: 내부 모듈은 “계약(입력/출력)”을 기준으로 동작하고, 외부 연동부는 교체 가능하도록 분리한다.

# 구현 자유도 원칙

docs/rnd의 목표/KPI/평가만 만족하면, 구현 방식은 Codex가 자율적으로 선택할 수 있다.
단, AGENTS.md 가드레일을 위반해서는 안 된다.

# 산출물(재현 가능한 평가)

각 모듈 구현이 끝나면, 해당 KPI를 재검증할 수 있도록 재현 가능한 산출물을 남긴다.
예: 평가 스크립트/쿼리, 실험 설정, 샘플 데이터 생성기(가능하면), 실행 커맨드, 결과 저장 포맷
